# Layer Map — Expected vs Observed (2025-11-09)

Branch: perf/layer-audit-portal-landing-2025-11-09

## Expected (project spec)
- L0 DOM canvas: #bgParticles (z:0)
- L1 WebGL canvas: #errlWebGL (z:1), PIXI stage (sortableChildren=true)
  - ParticleContainer (GL bubbles) — first child
  - fxRoot (filters OK)
    - overlay (gradient/displace)
    - Errl GL sprite (goo filter)
    - orbContainer (GL orbs)
- L2 DOM canvas: #riseBubbles (z:2)
- L3 DOM: .scene-layer (Errl DOM image/SVG, nav-orbit, pool) (z:3)
- L4 DOM: .vignette-frame (z:4)
- L5 DOM: Errl Phone/overlays (z:4000+)

## Observed (to be filled from console inventory)
- Canvases: (paste from `ERRL.log.canvases()`)
- Key nodes: (paste from baseline snippets)

## Deltas
- [ ] Missing/extra canvases
- [ ] Filters applied at `app.stage` (should be at fxRoot)
- [ ] Multiple overlay-like layers active simultaneously
- [ ] z-index mismatches
- [ ] pointer-events enabled on canvases

## Actions
- Normalize canvases/z-order (CSS + DOM)
- Move filters to fxRoot only
- Prune duplicate overlays
- Clamp DPR before first render
- Add resize throttling/guards

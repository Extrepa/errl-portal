<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Art Gallery | Errl</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../fx/errl-bg.css">
  <style>
    :root{ --ink:#e5eaf1; }
    body { margin: 0; padding: 0; font-family: 'Inter', system-ui, sans-serif; background:#0a0f18; color: var(--ink); min-height: 100vh; }
    /* Header (shared) */
    .errl-header{ position:sticky; top:0; width:100%; background: linear-gradient(135deg, rgba(220,220,240,0.95) 0%, rgba(180,180,200,0.9) 25%, rgba(160,160,180,0.9) 50%, rgba(180,180,200,0.9) 75%, rgba(220,220,240,0.95) 100%), linear-gradient(45deg, rgba(255,255,255,0.3) 0%, transparent 30%, transparent 70%, rgba(255,255,255,0.3) 100%); box-shadow: 0 8px 32px rgba(0,0,0,0.4), 0 1px 0 rgba(255,255,255,0.4) inset, 0 -1px 0 rgba(0,0,0,0.2) inset; border-bottom:1px solid rgba(120,120,140,0.6); padding:0.75rem 1rem; z-index:999; letter-spacing:-0.03em; }
    .errl-header-content{ display:flex; align-items:center; justify-content:space-between; max-width: 1200px; margin: 0 auto; }
    .errl-home-btn{ display:inline-flex; align-items:center; gap:.5rem; color:#fff; background: linear-gradient(135deg, #ff0080 0%, #8000ff 25%, #0080ff 50%, #00ff80 75%, #ff8000 100%); background-size:200% 200%; border:1px solid rgba(255,255,255,0.3); border-radius:999px; font-size:.8rem; font-weight:600; line-height:1; padding:.55rem .9rem .6rem; box-shadow:0 4px 12px rgba(0,0,0,0.3), 0 1px 0 rgba(255,255,255,0.3) inset; text-decoration:none; text-shadow:0 1px 2px rgba(0,0,0,0.8); animation: rainbow-flow 3s linear infinite; }
    @keyframes rainbow-flow{ 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
    .errl-nav{ display:flex; gap:.5rem; align-items:center; }
    .errl-bubble-btn{ position:relative; display:inline-flex; align-items:center; justify-content:center; min-width:6.5rem; max-width:10rem; padding:.6rem .9rem .7rem; border-radius:999px; font-size:.8rem; font-weight:600; line-height:1.1; text-align:center; color:#e8e8e8; text-decoration:none; white-space:nowrap; text-shadow:0 1px 3px rgba(0,0,0,0.8); background: linear-gradient(135deg, rgba(100,100,120,0.9) 0%, rgba(60,60,80,0.9) 25%, rgba(40,40,60,0.9) 50%, rgba(60,60,80,0.9) 75%, rgba(100,100,120,0.9) 100%), linear-gradient(45deg, rgba(255,255,255,0.1) 0%, transparent 30%, transparent 70%, rgba(255,255,255,0.1) 100%); border:2px solid transparent; background-clip:padding-box; box-shadow: 0 4px 12px rgba(0,0,0,0.3), 0 1px 0 rgba(255,255,255,0.2) inset, 0 -1px 0 rgba(0,0,0,0.3) inset; }
    .errl-bubble-btn::before{ content:""; position:absolute; inset:-2px; border-radius:999px; padding:2px; background: linear-gradient(90deg, rgba(0,255,255,0.6) 0%, rgba(255,0,255,0.6) 25%, rgba(255,255,0,0.6) 50%, rgba(0,255,0,0.6) 75%, rgba(0,255,255,0.6) 100%); background-size:200% 100%; mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); mask-composite:xor; -webkit-mask-composite:xor; animation: led-flow 2s linear infinite; opacity:.7; }
    @keyframes led-flow{ 0%{background-position:0% 50%} 100%{background-position:200% 50%} }
    .errl-bubble-btn.active{ background: linear-gradient(135deg, rgba(140,140,160,0.95) 0%, rgba(100,100,130,0.95) 25%, rgba(80,80,110,0.95) 50%, rgba(100,100,130,0.95) 75%, rgba(140,140,160,0.95) 100%), linear-gradient(45deg, rgba(255,255,255,0.2) 0%, transparent 30%, transparent 70%, rgba(255,255,255,0.2) 100%); color:#fff; font-weight:700; text-shadow:0 1px 3px rgba(0,0,0,0.9); box-shadow: 0 6px 16px rgba(0,0,0,0.4), 0 1px 0 rgba(255,255,255,0.3) inset, 0 -1px 0 rgba(0,0,0,0.4) inset; }
    .errl-bubble-btn.active::before{ background: radial-gradient(circle at 0% 50%, rgba(255,255,255,0.8) 0%, transparent 25%), radial-gradient(circle at 25% 50%, rgba(255,255,255,0.8) 0%, transparent 25%), radial-gradient(circle at 50% 50%, rgba(255,255,255,0.8) 0%, transparent 25%), radial-gradient(circle at 75% 50%, rgba(255,255,255,0.8) 0%, transparent 25%), radial-gradient(circle at 100% 50%, rgba(255,255,255,0.8) 0%, transparent 25%); background-size:20% 100%; animation: led-pulse 1s ease-in-out infinite alternate; opacity:.9; }
    @keyframes led-pulse{ 0%{opacity:.5} 100%{opacity:1} }

    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    h1 { font-size: 2.2rem; margin: 16px 0; text-align: center; opacity:.9; }
    .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin: 20px 0 40px; padding: 0 20px; }
    .gallery-item { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; overflow: hidden; transition: all 0.3s; }
    .gallery-item:hover { background: rgba(255, 255, 255, 0.08); transform: translateY(-4px); box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3); }
    .gallery-item img { width: 100%; display: block; aspect-ratio: 1; object-fit: cover; }
    .gallery-item h3 { margin: 0; padding: 12px; font-size: 0.9rem; text-align: center; }
    .loading { text-align: center; padding: 60px 20px; opacity: 0.6; }
  </style>
</head>
<body>
  <header class="errl-header">
    <div class="errl-header-content">
      <a class="errl-home-btn" href="../../index.html">‚Üê Back to Portal</a>
      <nav class="errl-nav">
        <a class="errl-bubble-btn" href="../../about.html">About Errl</a>
        <a class="errl-bubble-btn active" href="../gallery/index.html">Gallery</a>
        <a class="errl-bubble-btn" href="../projects/index.html">Projects</a>
        <a class="errl-bubble-btn" href="../pin-designer/index.html">Pin Designer</a>
        <a class="errl-bubble-btn" href="../tools/index.html">Tools</a>
      </nav>
    </div>
  </header>
  <div class="container">
    <h1>Art Gallery</h1>
    <div id="gallery" class="gallery"><div class="loading">Loading gallery...</div></div>
  </div>

  <!-- Inline fallback manifest for file:// viewing -->
  <script id="manifestInline" type="application/json">
{
  "default": "recent",
  "albums": [
    {
      "id": "recent",
      "title": "Recent Generations",
      "cover": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_1.jpg",
      "items": [
        {
          "src": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_1.jpg",
          "title": "Errl OpenArt 2025Oct JPEG 1"
        },
        {
          "src": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_2.jpg",
          "title": "Errl OpenArt 2025Oct JPEG 2"
        },
        {
          "src": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_3.jpg",
          "title": "Errl OpenArt 2025Oct JPEG 3"
        },
        {
          "src": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_4.jpg",
          "title": "Errl OpenArt 2025Oct JPEG 4"
        },
        {
          "src": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_5.jpg",
          "title": "Errl OpenArt 2025Oct JPEG 5"
        },
        {
          "src": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_6.jpg",
          "title": "Errl OpenArt 2025Oct JPEG 6"
        },
        {
          "src": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_7.jpg",
          "title": "Errl OpenArt 2025Oct JPEG 7"
        },
        {
          "src": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_8.jpg",
          "title": "Errl OpenArt 2025Oct JPEG 8"
        },
        {
          "src": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_9.jpg",
          "title": "Errl OpenArt 2025Oct JPEG 9"
        },
        {
          "src": "./assets/recent/Errl_OpenArt_2025Oct_JPEG_10.jpg",
          "title": "Errl OpenArt 2025Oct JPEG 10"
        }
      ]
    }
  ]
}
  </script>

  <script>
    (async function(){
      const gallery = document.getElementById('gallery');
      async function loadManifest(){
        if (location.protocol !== 'file:'){
          try {
            const res = await fetch('./manifest.json', { cache: 'no-store' });
            if (res.ok) return await res.json();
          } catch (e) { /* fall through */ }
        }
        const inline = document.getElementById('manifestInline');
        if (inline && inline.textContent) {
          try { return JSON.parse(inline.textContent); } catch {}
        }
        throw new Error('Manifest unavailable');
      }
      try {
        const data = await loadManifest();
        const album = data.albums?.[0];
        if (album && album.items) {
          gallery.innerHTML = album.items.map(item => `
            <div class="gallery-item">
              <img src="${item.src}" alt="${item.title || 'Artwork'}" loading="lazy">
              <h3>${item.title || 'Untitled'}</h3>
            </div>
          `).join('');
        } else {
          gallery.innerHTML = '<div class="loading">No images found</div>';
        }
      } catch (err) {
        console.error('Gallery manifest load failed:', err);
        gallery.innerHTML = '<div class="loading">Error loading gallery</div>';
      }
    })();
  </script>
</body>
</html>

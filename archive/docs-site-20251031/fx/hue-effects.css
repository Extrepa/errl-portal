/**
 * CSS Hue Rotation Effects
 * Fallback and complementary hue controls for non-WebGL elements
 */

/* CSS Custom Properties for hue control */
:root {
  --errl-hue-shift: 0deg;
  --errl-hue-intensity: 100%;
  --errl-saturation: 100%;
}

/* Animated hue cycling classes */
.hue-cycle-slow {
  animation: hue-rotate-cycle 30s linear infinite;
}

.hue-cycle-medium {
  animation: hue-rotate-cycle 15s linear infinite;
}

.hue-cycle-fast {
  animation: hue-rotate-cycle 8s linear infinite;
}

.hue-cycle-pulse {
  animation: hue-pulse 4s ease-in-out infinite;
}

/* Base hue rotation utility */
.hue-controlled {
  filter: hue-rotate(var(--errl-hue-shift)) saturate(var(--errl-saturation));
}

/* Apply to background layer with hue shift */
.l0.hue-controlled {
  filter: hue-rotate(var(--errl-hue-shift)) saturate(var(--errl-saturation));
}

/* Motes with hue effects */
.mote.hue-controlled {
  filter: hue-rotate(var(--errl-hue-shift)) saturate(var(--errl-saturation)) brightness(110%);
}

/* HUD bubbles with subtle hue */
.hud .bubble.hue-controlled {
  filter: hue-rotate(calc(var(--errl-hue-shift) * 0.7)) saturate(var(--errl-saturation)) brightness(105%);
}

/* Navigation buttons with hue */
.btn.hue-controlled::before {
  filter: hue-rotate(var(--errl-hue-shift)) saturate(var(--errl-saturation));
}

/* Errl character hue (when not using WebGL) */
.errl.hue-controlled {
  filter: 
    hue-rotate(calc(var(--errl-hue-shift) * 0.5)) 
    saturate(var(--errl-saturation))
    drop-shadow(0 0 18px rgba(123,92,255,.45)) 
    drop-shadow(0 0 48px rgba(0,229,255,.18));
}

/* Ripple effects hue */
.portal-drip.hue-controlled {
  filter: hue-rotate(var(--errl-hue-shift)) saturate(var(--errl-saturation));
}

/* Keyframes */
@keyframes hue-rotate-cycle {
  0% { 
    filter: hue-rotate(0deg) saturate(var(--errl-saturation)); 
  }
  25% { 
    filter: hue-rotate(90deg) saturate(calc(var(--errl-saturation) * 1.1)); 
  }
  50% { 
    filter: hue-rotate(180deg) saturate(calc(var(--errl-saturation) * 1.2)); 
  }
  75% { 
    filter: hue-rotate(270deg) saturate(calc(var(--errl-saturation) * 1.1)); 
  }
  100% { 
    filter: hue-rotate(360deg) saturate(var(--errl-saturation)); 
  }
}

@keyframes hue-pulse {
  0%, 100% { 
    filter: hue-rotate(var(--errl-hue-shift)) saturate(var(--errl-saturation)); 
  }
  50% { 
    filter: hue-rotate(calc(var(--errl-hue-shift) + 60deg)) saturate(calc(var(--errl-saturation) * 1.3)); 
  }
}

/* Smooth transitions */
.hue-controlled {
  transition: filter 0.3s ease;
}

/* Performance optimizations */
.hue-controlled {
  will-change: filter;
  transform: translateZ(0); /* Force GPU acceleration */
}

/* Color theme variants based on hue */
.theme-warm {
  --errl-hue-shift: 30deg;
  --errl-saturation: 110%;
}

.theme-cool {
  --errl-hue-shift: 180deg;  
  --errl-saturation: 105%;
}

.theme-electric {
  --errl-hue-shift: 270deg;
  --errl-saturation: 130%;
}

.theme-sunset {
  --errl-hue-shift: 15deg;
  --errl-saturation: 125%;
}

.theme-ocean {
  --errl-hue-shift: 200deg;
  --errl-saturation: 115%;
}

.theme-forest {
  --errl-hue-shift: 120deg;
  --errl-saturation: 110%;
}
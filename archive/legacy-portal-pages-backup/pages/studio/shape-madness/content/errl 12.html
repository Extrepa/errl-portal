<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Flow-Field Ribbons</title>
<style>
:root{ --bg:#050816; --edge:#1b2656 }
*{box-sizing:border-box} html,body{margin:0;background:var(--bg)}
.wrap{min-height:100dvh;display:grid;place-items:center}
.stage{position:relative;width:min(92vw,900px);aspect-ratio:16/10;border:1px solid var(--edge);border-radius:14px;overflow:hidden;background:#040a1c}
canvas{width:100%;height:100%}
</style></head><body>
<div class="wrap"><div class="stage"><canvas id="c" width="1200" height="750"></canvas></div></div>
<script>
const C=document.getElementById('c'), X=C.getContext('2d'); const DPR=Math.max(1,devicePixelRatio||1); C.width*=DPR; C.height*=DPR; X.scale(DPR,DPR);
let W=C.width/DPR, H=C.height/DPR, T=0;
const RIBBONS=6, SEG=180, SPEED=0.8, NOISE_SCALE=0.003;
const pts = Array.from({length:RIBBONS}, (_,i)=>Array.from({length:SEG}, j=>({x:W/2, y:H/2})));
let px=W/2, py=H/2; window.addEventListener('pointermove',e=>{ const r=C.getBoundingClientRect(); px=(e.clientX-r.left)/r.width*W; py=(e.clientY-r.top)/r.height*H; });

function n2(x,y,t){ // fast curl-ish noise using trig mash (cheap)
  const nx = Math.sin(x*NOISE_SCALE + t*0.002) + Math.cos(y*NOISE_SCALE*1.3 - t*0.001);
  const ny = Math.cos(x*NOISE_SCALE*0.7 - t*0.0015) - Math.sin(y*NOISE_SCALE + t*0.0022);
  return {x:nx, y:ny};
}

function step(){
  T++;
  X.fillStyle="rgba(5,8,22,0.08)"; X.fillRect(0,0,W,H);
  for(let r=0;r<RIBBONS;r++){
    const hue = (T*0.4 + r*40)%360;
    const trail = pts[r];
    // head follows flowfield + pointer gravity
    let head = trail[0];
    const f = n2(head.x, head.y, T);
    const gx = (px - head.x)/250, gy=(py - head.y)/250;
    const vx = (f.x*40 + gx)*SPEED, vy=(f.y*40 + gy)*SPEED;
    head.x = (head.x + vx + W) % W; head.y = (head.y + vy + H) % H;
    // shift body
    for(let i=trail.length-1;i>0;i--) { trail[i].x = trail[i-1].x; trail[i].y = trail[i-1].y; }
    // draw
    X.beginPath();
    X.moveTo(trail[0].x, trail[0].y);
    for(let i=1;i<trail.length;i++) X.lineTo(trail[i].x, trail[i].y);
    X.strokeStyle=`hsla(${hue} 95% 65% / 0.9)`; X.lineWidth=1.2; X.stroke();
  }
  requestAnimationFrame(step);
}
step();
</script>
</body></html>
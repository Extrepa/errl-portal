# Cloudflare Pages redirects and rewrites
# This file should be copied to dist/ during build

# Studio app SPA routing - redirect /studio/* to /studio.html
# Note: Cloudflare Pages serves existing files first, so HTML files like
# /studio/svg-colorer/index.html and /studio/pin-widget/... will be served directly
# This redirect only applies to paths that don't match existing files
/studio/svg-colorer/*  /studio/svg-colorer/:splat  200
/studio/pin-widget/ErrlPin.Widget/*  /studio/pin-widget/ErrlPin.Widget/:splat  200
/studio/  /studio/index.html  200
/studio/*  /studio.html  200

# Designer app
/designer  /design/  302
/designer/  /design/  302
/designer.html  /design/  302

# Portal pages routing - these are static HTML files, no redirect needed
# They're built at root level (e.g., /about/, /gallery/, /assets/)

# Fallback for SPA routes - exclude index.html and files with extensions to prevent infinite loops
# Cloudflare Pages will only apply this to paths that don't match existing files
